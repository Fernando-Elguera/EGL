{% extends "./base.html" %} {% block title %} Agregar Materiales {% endblock %}
{% block body %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<div class="row">
  <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3 mx-auto">
    {% if messages %} {% for message in messages %}

    <br />
    <br />
    <div class="alert alert-info alert-dismissible fade show" role="alert">
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
      <strong class="text-dark">{{ message }}</strong>
    </div>
    <script type="text/javascript">
      $(document).ready(function () {
        window.setTimeout(function () {
          $(".alert")
            .fadeTo(1000, 0)
            .slideUp(1000, function () {
              $(this).remove();
            });
        }, 1000);
      });
    </script>

    {% endfor %} {% endif %}
    <br />
    <br />
    <h3 align="center">Agregar Materiales</h3>
    <div class="card">
      <div class="card-body">
        <form action="/registrarCurso/" method="POST">
          {% csrf_token %}

          <div class="form-group">
            <input
              type="hidden"
              id="txtFecharegistrada"
              name="txtFecharegistrada"
              class="form-control"
              placeholder="Hoy"
              required
            />
          </div>

          <div class="form-floating">
            <input
              type="text"
              id="txtEdificio"
              name="txtEdificio"
              class="form-control"
              placeholder="Edificio"
              required
            />
            <label for="floatingTextarea">Edificio</label>
          </div>
          <br />
          <div class="form-floating">
            <input
              type="text"
              id="txtNumerodeparte"
              name="txtNumerodeparte"
              class="form-control"
              placeholder="Numero de parte"
              required
            />
            <label for="floatingTextarea">Numero de parte</label>
          </div>
          <br />
          <div class="form-floating">
            <input
              type="text"
              id="txtDescripcion"
              name="txtDescripcion"
              class="form-control"
              placeholder="Descripcion"
              maxlength="50"
              required
            />
            <label for="floatingTextarea">Descripcion</label>
          </div>
          <br />
          <div class="form-floating">
            <input
              type="text"
              id="txtnumModelo"
              name="txtnumModelo"
              class="form-control"
              placeholder="Modelo"
              required
            />
            <label for="floatingTextarea">Modelo</label>
          </div>
          <br />
          <div class="form-floating">
            <input
              type="date"
              id="txtFecha"
              name="txtFecha"
              class="form-control"
              placeholder="Fecha"
              required
            />
            <label for="floatingTextarea">Fecha</label>
          </div>
          <br />
          <div class="form-floating">
            <input
              type="text"
              id="txtSolicitud"
              name="txtSolicitud"
              class="form-control"
              placeholder="Solicitud"
              required
            />
            <label for="floatingTextarea">Cantidad</label>
          </div>
          <br />
          <div class="form-group">
            <button type="submit" class="btn btn-success btn-block text-white">
              Guardar
            </button>
        
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="col-sm-12 col-md-6 col-lg-8 col-xl-9">
    <br />
    <br />

    <h1 align="center">Listado de Materiales</h1>
    <div class="table-responsive py-2">
      <table class="table table-striped table-sm">
        <thead class="table-primary">
          <tr>
            <th>#</th>
            <th>Edificio</th>
            <th>Fecha Registrada</th>
            <th>Numero de parte</th>
            <th>Descripcion</th>
            <th>Modelo</th>
            <th>Fecha Solicitada</th>
            <th>Cantidad</th>
            <th colspan="2">Opciones</th>
          </tr>
        </thead>
        <tbody>
          {% for c in cursos %}
          <tr>
            <td>{{forloop.counter}}</td>

            <td>{{c.edificio}}</td>
            <td>{{c.fecharegistrada}}</td>
            <td>{{c.numerodeparte}}</td>
            <td>{{c.descripcion}}</td>
            <td>{{c.modelo}}</td>
            <td>{{c.fecha}}</td>
            <td>{{c.solicitud}}</td>
            <td>
              <a href="edicionCurso/{{c.num}}" class="btn btn-info">Editar</a>
            </td>
            <td>
              <a
                href="eliminarCurso/{{c.num}}"
                class="btn btn-danger btnEliminacion"
                >Eliminar</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
